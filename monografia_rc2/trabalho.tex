\chapter{Desenvolvimento do Trabalho}

\section{Considerações Iniciais}



\section{Atividades Realizadas}

\subsection{Biblioteca Cgraph}

 A biblioteca CGraph \cite{cesar2013cgraph} utilizada foi implementada por um dos autores (Cesar) 
durante seu trabalho de Iniciação Científica e Mestrado, utilizando a linguagem de programação C89 ANSI 
em ambiente POSIX. A biblioteca foi extendida por ambos os autores para análise de processos de disseminação.

A estrutura de dados \texttt{graph\_t} representa um grafo por meio de lista de adjacências, armazenando 
toda a informação necessária em memória física. Para um sistema com 4 GB de memória RAM e arquitetura de 
64 bits, um grafo direcionado está limitado a menos de 500 milhões de arestas, e um grafo não-direcionado 
está limitado a menos de 250 milhões de arestas.

A biblioteca ainda está incompleta, mas já possui diversos algoritmos para entrada, geração, métrica e 
simulação de grafos não-direcionados, apresentados a seguir:

\begin{itemize}
 \item Leitura de \textit{datasets}.
 \item Inserção de arestas, extração de subgrafo.
 \item Extração de componentes.
 \item Métricas de centralidade: grau, intermediação, proximidade, autovetor, PageRank e $k$-core.
 \item Cálculo de distância geodésica.
 \item Assortatividade.
 \item Modelos de rede: grafo completo, Erdös-Rényi, Barabási-Albert, Watts-Strogatz, Ravasz-Barabási.
 \item Layout com saída SVG: aleatório, circular, circular ordenado por grau, definido pelo usuário.
 \item Modelos de disseminação: SI, SIS, SIR, SEIR, Daley-Kendall, zumbi.
\end{itemize}

Os modelos de disseminação comportam apenas o caso de \emph{disseminação síncrona}, onde a cada
passo de tempo todos os individuos computam seu próximo estado, levando em conta seu estado atual e
uma possível interação com um indivíduo infeccioso. Não são suportados ainda a presença de mais que
um estado infeccioso, infecção de múltiplos indíviduos a cada passo de tempo (como no modelo em cascata
de Borge et al \cite{borge2011structural}) ou modelos assíncronos, onde apenas um indivíduo infeccioso
transmite por turno.

A simulação é realizada de forma abstraída: a função \texttt{graph\_propagation\_t}
executa os passos, contando o número de indivíduos infecciosos e escolhendo uniformemente entre seus
adjacentes com quem ele interage. O modelo de propagação, representado na estrutura 
\texttt{graph\_propagation\_model\_t}, deve implementar dois \textit{callbacks} para a 
execução da propagação, de forma semelhante à especialização em orientação a objeto:

\begin{itemize}
 \item \texttt{graph\_transition\_t}: Determina a transição dos indivíduos, dependendo do estado atual e 
       das interações escolhidas.
 \item \texttt{graph\_is\_end\_t}: Determina se a propagação já atingiu um estado estacionário.
\end{itemize}

\subsection{Validação da simulação}

A implementação foi testada comparando os resultados de uma simulação numérica, que consiste na solução de 
equações diferenciais ordinárias, com 50 repetições da simulação em um grafo completo com 300 vértices.
A 
Foram utilizados os mesmos parâmetros para cada simulação, e tomados a média e desvio padrão. Os
resultados estão mostrados na Tabela \ref{tab:valida-simulacao}, e indicam equivalência dos dois modelos.

\begin{table}[!hb]
 \centering
 \caption{Comparação entre modelo diferencial e simulação em grafo completo}\label{tab:valida-simulacao}
 \begin{tabular}{|l|cc|cc|}
  \hline
  \multirow{2}{*}{Modelo} & \multicolumn{2}{c|}{Diferencial} & \multicolumn{2}{c|}{Simulação} \\ \cline{2-5}
                          & Tempo & Suscetíveis (\%)         & Tempo        & Suscetíveis (\%) \\ \hline
  SI                      & 11.4  & 0.33                     & 16.1$\pm$1.0 & 0.00             \\
  SIS                     & 20.0  & 50.3                     &   -          & 50.3$\pm$3.4     \\
  SIR                     & 29.7  & 20.3                     & 29.7$\pm$3.7 & 19.8$\pm$3.8     \\
  SEIR                    & 40.1  & 20.4                     & 42.8$\pm$7.4 & 22.7$\pm$11.6    \\
  Daley-Kendall           & 20.7  & 6.00                     & 22.3$\pm$2.9 & 8.5$\pm$1.8      \\ \hline
  
 \end{tabular}

\end{table}


\subsection{Propagação em datasets e em modelos equivalentes}



\subsection{Comparação em solução numérica e solução em redes complexas}



\subsection{Comparação entre modelos de propagação com $R_0$ equivalente}



\subsection{Aplicação de propagação de informação em poblemas reais}



\subsubsection{Gripe suína em Hong Kong}



\subsubsection{Sobrevivência ao Apocalipse Zombie}



\section{Resultados Obtidos}


